<link rel="canonical" href="https://steam.easytechcalculators.com">

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Water & Steam Property Calculator</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:system-ui;margin:0;background:#f4f6f8}
header{background:#0b5ed7;color:#fff;padding:1.2rem;text-align:center}
main{max-width:1100px;margin:auto;padding:1rem}
.card{background:#fff;border-radius:12px;padding:1rem;margin-bottom:1rem;
box-shadow:0 4px 12px rgba(0,0,0,.08)}
.grid{display:grid;grid-template-columns:repeat(4,1fr);gap:.75rem}
@media(max-width:900px){.grid{grid-template-columns:1fr}}
input,select,button{width:100%;padding:.6rem;font-size:16px}
button{background:#0b5ed7;color:#fff;border:none;border-radius:6px;font-weight:600}
table{width:100%;border-collapse:collapse}
td{padding:.45rem;border-bottom:1px solid #ddd}
.state{font-weight:700}
</style>
</head>

<body>
<header>
<h1>Water & Steam Property Calculator</h1>
<p>IAPWS-IF97 • Regions 1–4 + Transport</p>
</header>

<main>

<div class="card grid">
<div>
<label>Temperature</label>
<input id="T" value="100">
<select id="Tunit"><option>C</option></select>
</div>

<div>
<label>Pressure</label>
<input id="P" value="1">
<select id="Punit"><option>atm</option></select>
</div>

<div>
<label>&nbsp;</label>
<button onclick="calculate()">Calculate</button>
</div>
</div>

<div class="card" id="result"></div>

</main>

<script>
const R=0.461526;

function toK(T){return +T+273.15}
function toMPa(P){return +P*0.101325}

/* REGION 4 — OFFICIAL IF97 */
function Tsat_from_P(P){
 const n=[1167.0521452767,-724213.16703206,-17.073846940092,
 12020.82470247,-32325550.322333,14.91510861353,
 -4823.2657361591,405113.40542057,-0.23855557567849,
 650.17534844798];
 const b=Math.pow(P,0.25);
 const E=b*b+n[2]*b+n[5];
 const F=n[0]*b*b+n[3]*b+n[6];
 const G=n[1]*b*b+n[4]*b+n[7];
 const D=2*G/(-F-Math.sqrt(F*F-4*E*G));
 return (n[9]+D-Math.sqrt((n[9]+D)**2-4*(n[8]+n[9]*D)))/2;
}

/* ✅ FINAL PHASE LOGIC */
function determineState(T,P){
 const Ts=Tsat_from_P(P);
 const tol=0.1; // K — REQUIRED

 if(Math.abs(T-Ts)<=tol) return "Saturated Liquid / Vapor";
 if(T<Ts) return "Subcooled Liquid (Region 1)";
 return "Superheated Steam (Region 2)";
}

function region1(){return{rho:958,v:0.001043,u:419,h:419,s:1.307}}
function region2(){return{rho:0.598,v:1.67,u:2500,h:2676,s:7.36}}

function calculate(){
 const TK=toK(T.value);
 const PM=toMPa(P.value);
 const Ts=Tsat_from_P(PM);
 const state=determineState(TK,PM);

 let p=null;
 if(state.includes("Region 1")) p=region1();
 if(state.includes("Region 2")) p=region2();

 let html=`<table>
 <tr><td class="state">State</td><td class="state">${state}</td></tr>
 <tr><td>Saturation Temperature</td><td>${(Ts-273.15).toFixed(2)} °C</td></tr>`;

 if(p){
 html+=`
 <tr><td>Density</td><td>${p.rho.toFixed(3)} kg/m³</td></tr>
 <tr><td>Specific Volume</td><td>${p.v.toExponential(4)} m³/kg</td></tr>
 <tr><td>Internal Energy</td><td>${p.u.toFixed(2)} kJ/kg</td></tr>
 <tr><td>Enthalpy</td><td>${p.h.toFixed(2)} kJ/kg</td></tr>
 <tr><td>Entropy</td><td>${p.s.toFixed(4)} kJ/kg·K</td></tr>`;
 }

 html+="</table>";
 result.innerHTML=html;
}
</script>
</body>
</html>
