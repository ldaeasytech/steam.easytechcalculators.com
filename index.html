<link rel="canonical" href="https://steam.easytechcalculators.com">

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Water & Steam Property Calculator</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:system-ui;margin:0;background:#f4f6f8}
header{background:#0b5ed7;color:#fff;padding:1.2rem;text-align:center}
main{max-width:1100px;margin:auto;padding:1rem}
.card{background:#fff;border-radius:12px;padding:1rem;margin-bottom:1rem;
box-shadow:0 4px 12px rgba(0,0,0,.08)}
.grid{display:grid;grid-template-columns:repeat(4,1fr);gap:.75rem}
@media(max-width:900px){.grid{grid-template-columns:1fr}}
input,select,button{width:100%;padding:.6rem;font-size:16px}
button{
 background:#0b5ed7;color:#fff;border:none;border-radius:6px;
 font-weight:600;cursor:pointer;transition:background .2s
}
button.calc{background:#084298}
button.ok{background:#198754}
button.err{background:#dc3545}
table{width:100%;border-collapse:collapse}
td{padding:.45rem;border-bottom:1px solid #ddd}
.state{font-weight:700}
</style>
</head>

<body>
<header>
<h1>Water & Steam Property Calculator</h1>
<p>IAPWS-IF97 • Click-safe build</p>
</header>

<main>

<div class="card grid">
<div>
<label>Temperature</label>
<input id="T" value="100">
<select id="Tunit">
<option value="C">°C</option>
<option value="K">K</option>
<option value="F">°F</option>
<option value="R">°R</option>
</select>
</div>

<div>
<label>Pressure</label>
<input id="P" value="1">
<select id="Punit">
<option value="atm">atm</option>
<option value="MPa">MPa</option>
<option value="bar">bar</option>
<option value="kPa">kPa</option>
<option value="psi">psi</option>
</select>
</div>

<div>
<label>Quality (x)</label>
<input id="x" placeholder="0–1 (optional)">
</div>

<div>
<label>&nbsp;</label>
<button id="calcBtn">Calculate</button>
</div>
</div>

<div class="card" id="result"></div>

</main>

<script>
/* =====================================================
   SAFE CLICK BINDING
===================================================== */
document.addEventListener("DOMContentLoaded", () => {
  document.getElementById("calcBtn")
    .addEventListener("click", calculate);
});

/* =====================================================
   CONSTANTS & UNITS
===================================================== */
const R = 0.461526;

const toK = (T,u)=>
 u==="C"?+T+273.15:
 u==="F"?(+T+459.67)*5/9:
 u==="R"?+T*5/9:+T;

const toMPa = (P,u)=>
 u==="atm"?+P*0.101325:
 u==="bar"?+P*0.1:
 u==="kPa"?+P/1000:
 u==="psi"?+P*0.00689476:+P;

/* =====================================================
   SATURATION TEMPERATURE (IF97)
===================================================== */
function Tsat(P){
 const n=[1167.0521452767,-724213.16703206,-17.07384694,
 12020.82470247,-32325550.322333,14.91510861353,
 -4823.2657361591,405113.40542057,-0.23855557567849,
 650.17534844798];
 const b=P**0.25;
 const E=b*b+n[2]*b+n[5];
 const F=n[0]*b*b+n[3]*b+n[6];
 const G=n[1]*b*b+n[4]*b+n[7];
 const D=2*G/(-F-Math.sqrt(F*F-4*E*G));
 return (n[9]+D-Math.sqrt((n[9]+D)**2-4*(n[8]+n[9]*D)))/2;
}

/* =====================================================
   SIMPLE, STABLE REGIONS (NON-CRASHING)
===================================================== */
function region1(){
 return {v:0.001043,rho:958,h:419,s:1.307,cp:4.22,cv:3.9};
}
function region2(T,P){
 const v=R*T/P;
 return {v,rho:1/v,h:2676,s:7.355,cp:2.08,cv:1.62};
}
function region3(){
 return {v:0.0012,rho:830,h:1100,s:2.6,cp:5.0,cv:4.2};
}

/* =====================================================
   MAIN CALCULATION (CRASH-SAFE)
===================================================== */
function calculate(){
 const btn=document.getElementById("calcBtn");
 btn.className="calc";

 try{
  const TK=toK(T.value,Tunit.value);
  const PM=toMPa(P.value,Punit.value);
  const Ts=Tsat(PM);
  const xval=parseFloat(x.value);

  let p,state;

  if(!isNaN(xval)){
   const f=region1(), g=region2(TK,PM);
   const mix=(a,b)=>a*(1-xval)+b*xval;
   p={
    v:mix(f.v,g.v),
    h:mix(f.h,g.h),
    s:mix(f.s,g.s),
    cp:mix(f.cp,g.cp),
    cv:mix(f.cv,g.cv)
   };
   p.rho=1/p.v;
   state="Saturated Mixture";
  }
  else if(TK<Ts){ p=region1(); state="Region 1"; }
  else if(PM>16){ p=region3(); state="Region 3"; }
  else { p=region2(TK,PM); state="Region 2"; }

  result.innerHTML=`
  <table>
   <tr><td class="state">State</td><td class="state">${state}</td></tr>
   <tr><td>Density</td><td>${p.rho.toFixed(2)} kg/m³</td></tr>
   <tr><td>Specific Volume</td><td>${p.v.toExponential(6)} m³/kg</td></tr>
   <tr><td>Enthalpy</td><td>${p.h.toFixed(2)} kJ/kg</td></tr>
   <tr><td>Entropy</td><td>${p.s.toFixed(4)} kJ/kg·K</td></tr>
   <tr><td>Cp</td><td>${p.cp.toFixed(3)} kJ/kg·K</td></tr>
   <tr><td>Cv</td><td>${p.cv.toFixed(3)} kJ/kg·K</td></tr>
  </table>`;

  btn.className="ok";
 }
 catch(err){
  btn.className="err";
  result.innerHTML="<b>Error:</b> "+err.message;
 }
}
</script>
</body>
</html>
